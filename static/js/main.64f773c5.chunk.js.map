{"version":3,"sources":["components/TempGauge/index.js","components/TempChart/index.js","components/AreaInfo/index.js","components/AreaAll/index.js","components/AreaData/index.js","components/BarChart/index.js","components/Table/index.js","components/LiveData/index.js","services/data.js","services/reducer.js","components/Dashboard/index.js","App.js","reportWebVitals.js","index.js"],"names":["TempGauge","props","value","title","nrOfLevels","percent","formatTextValue","val","textColor","needleColor","id","TempChart","height","data","scale","time","range","autoFit","name","label","formatter","useHtml","g2-tooltip","boxShadow","color","backgroundColor","crosshairs","type","style","position","size","shape","stroke","lineWidth","Content","Layout","AreaInfo","areas","params","match","useState","area","setArea","areaId","useEffect","areaData","find","split","join","className","chartData","wrlss_data","temp_data","sort","a","b","Date","margin","temp_avg","wrlss_avg","AreaAll","history","useHistory","map","onClick","push","showAreaInfo","SubMenu","Menu","Sider","AreaData","areaList","breakpoint","collapsedWidth","onBreakpoint","broken","console","log","onCollapse","collapsed","mode","defaultSelectedKeys","defaultOpenKeys","width","borderRight","icon","HomeOutlined","nme","Item","areaName","selectArea","padding","path","render","exact","BarChart","temperature","interactions","shared","columns","dataIndex","key","moment","format","CustomTable","dataSource","LiveData","showTemperature","setShowTemperature","wireless","Table","this","sampleSize","sampleNo","startAt","endAt","slice","get","dataset","elem","device_display_name","initialState","reducer","state","action","dataClient","getData","uniqBy","filter","device_type","currentAreas","forEach","areaTempData","tmp","areaWrlssData","wrl","length","avgTemp","reduce","ac","cv","reading","avgWrlss","areadata","concat","atd","awd","updatedAreaList","union","isEqual","Header","Dashboard","useReducer","dispatch","interval","setInterval","clearInterval","theme","DashboardOutlined","to","BarChartOutlined","component","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.64f773c5.chunk.js","sourcesContent":["import React from 'react'\nimport GaugeChart from \"react-gauge-chart\";\n\nconst TempGauge = (props) => {\n    const { value, title } = props; \n\n    return <div>\n        {value && <GaugeChart\n             nrOfLevels={16}\n             percent={value/100}\n             formatTextValue={(val) => `${val}° C`}\n             textColor={\"black\"}\n             needleColor={\"gray\"}\n             id=\"1\"\n        />}\n        {title && <h2>{title}</h2>}\n    </div>\n}\n\n\nexport default TempGauge; ","import React from \"react\";\nimport {\n    Chart,\n    Geom,\n    Axis,\n    Tooltip,\n    Legend,\n} from \"bizcharts\";\n\nconst TempChart = (props) => {\n    const data = [\n        {\n            month: \"Jan\",\n            city: \"Tokyo\",\n            temperature: 7\n        },\n        {\n            month: \"Jan\",\n            city: \"London\",\n            temperature: 3.9\n        },\n        {\n            month: \"Feb\",\n            city: \"Tokyo\",\n            temperature: 6.9\n        },\n        {\n            month: \"Feb\",\n            city: \"London\",\n            temperature: 4.2\n        },\n        {\n            month: \"Mar\",\n            city: \"Tokyo\",\n            temperature: 9.5\n        },\n        {\n            month: \"Mar\",\n            city: \"London\",\n            temperature: 5.7\n        },\n        {\n            month: \"Apr\",\n            city: \"Tokyo\",\n            temperature: 14.5\n        },\n        {\n            month: \"Apr\",\n            city: \"London\",\n            temperature: 8.5\n        },\n        {\n            month: \"May\",\n            city: \"Tokyo\",\n            temperature: 18.4\n        },\n        {\n            month: \"May\",\n            city: \"London\",\n            temperature: 11.9\n        },\n        {\n            month: \"Jun\",\n            city: \"Tokyo\",\n            temperature: 21.5\n        },\n        {\n            month: \"Jun\",\n            city: \"London\",\n            temperature: 15.2\n        },\n        {\n            month: \"Jul\",\n            city: \"Tokyo\",\n            temperature: 25.2\n        },\n        {\n            month: \"Jul\",\n            city: \"London\",\n            temperature: 17\n        },\n        {\n            month: \"Aug\",\n            city: \"Tokyo\",\n            temperature: 26.5\n        },\n        {\n            month: \"Aug\",\n            city: \"London\",\n            temperature: 16.6\n        },\n        {\n            month: \"Sep\",\n            city: \"Tokyo\",\n            temperature: 23.3\n        },\n        {\n            month: \"Sep\",\n            city: \"London\",\n            temperature: 14.2\n        },\n        {\n            month: \"Oct\",\n            city: \"Tokyo\",\n            temperature: 18.3\n        },\n        {\n            month: \"Oct\",\n            city: \"London\",\n            temperature: 10.3\n        },\n        {\n            month: \"Nov\",\n            city: \"Tokyo\",\n            temperature: 13.9\n        },\n        {\n            month: \"Nov\",\n            city: \"London\",\n            temperature: 6.6\n        },\n        {\n            month: \"Dec\",\n            city: \"Tokyo\",\n            temperature: 9.6\n        },\n        {\n            month: \"Dec\",\n            city: \"London\",\n            temperature: 4.8\n        }\n    ];\n    const cols = {\n        time: {\n            range: [0, 1]\n        }\n    };\n    return (\n        <Chart height={400} data={props.data} scale={cols} autoFit>\n            <Legend />\n            <Axis name=\"month\" />\n            <Axis\n                name=\"temperature\"\n                label={{\n                    formatter: val => `${val}°C`\n                }}\n            />\n            <Tooltip\n                useHtml\n                g2-tooltip={{\n                    boxShadow: 'none',\n                    color: '#fff',\n                    backgroundColor: '#222'\n                }}\n                crosshairs={{\n                    type: \"y\"\n                }}\n                style={{\n                    color: 'red'\n                }}\n            />\n            <Geom\n                type=\"line\"\n                position=\"time*reading\"\n                size={2}\n                color={\"type\"}\n                shape={\"smooth\"}\n            />\n            <Geom\n                type=\"point\"\n                position=\"time*reading\"\n                size={4}\n                shape={\"circle\"}\n                color={\"type\"}\n                style={{\n                    stroke: \"#fff\",\n                    lineWidth: 1\n                }}\n            />\n        </Chart>\n    );\n}\n\nexport default TempChart; ","import React, { useEffect, useState } from 'react'\nimport TempGauge from \"../TempGauge\";\nimport TempChart from \"../TempChart\";\nimport { Layout } from \"antd\";\nimport \"./styles.css\";\n\nconst { Content } = Layout;\n\n\n\n\nconst AreaInfo = (props) => {\n    const { areas, match: { params } } = props;\n    const [area, setArea] = useState(null)\n    const areaId = params.id;\n\n    useEffect(() => {\n        const areaData = areas.find(area => area.name.split(' ').join('_') === areaId);\n        if (areaData) {\n            setArea(areaData);\n        }\n    }, [areaId, areas, setArea])\n\n    if (!area) {\n        return <span className=\"no-data\">No Data Available For this area</span>\n    }\n\n    const chartData = [...area.wrlss_data, ...area.temp_data].sort((a,b) => {\n        if (new Date(a.time) < new Date(b.time)) {\n            return -1; \n        }\n\n        if (new Date(a.time) > new Date(b.time)) {\n            return 1;\n        } \n        return 0; \n    })\n\n    return (<Content style={{ margin: '24px 16px 0' }}>\n        <div className=\"area-info\">\n            <div className=\"top-section\">\n                {area.temp_avg && <TempGauge value={area.temp_avg} title={\"Temperature\"} />}\n                <span className=\"area-title\">{area.name}</span>\n                {area.wrlss_avg && <TempGauge value={area.wrlss_avg} title={\"Wireless\"} />}\n            </div>\n            <div className=\"bottom-section\">\n                <TempChart data={chartData} title={area.name} />\n            </div>\n            {/* {area.readings.map(data => (<span id={data.time}>{data.reading}___{data.time}</span>))} */}\n        </div>\n    </Content>\n    )\n}\n\nexport default AreaInfo; ","import React from 'react'\nimport TempGauge from \"../TempGauge\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { Layout } from \"antd\";\nimport \"./styles.css\";\n\nconst { Content } = Layout;\n\nconst AreaAll = (props) => {\n    const history = useHistory(); \n    const { areas } = props;\n\n    const showAreaInfo = (name) => {\n        const id = name.split(\" \").join(\"_\");\n        history.push(`/area/${id}`);\n    }\n    \n\n    return <Content style={{ margin: '24px 16px 0' }}>\n        <div className=\"areas-all\">\n            {areas.map(area => (<span onClick={() => showAreaInfo(area.name)} key={area.name} className=\"area-gauge\">\n                <TempGauge value={area.temp_avg} title={area.name} />\n                {/* hellow */}\n            </span>))}\n        </div>\n    </Content>\n}\n\nexport default AreaAll;","import React, { useState, useEffect } from 'react';\nimport TempGauge from \"../TempGauge\";\nimport AreaInfo from \"../AreaInfo\"; \nimport AreaAll from \"../AreaAll\";\nimport { HomeOutlined } from \"@ant-design/icons\";\nimport { union, isEqual } from \"lodash\";\nimport { useHistory, Route } from \"react-router-dom\";\nimport { Layout, Menu } from 'antd';\nconst { SubMenu } = Menu; \nconst {Content, Sider } = Layout; \n\n\nconst AreaData = (props) => {\n    const { data: { areas, areaList } } = props; \n    const history = useHistory(); \n\n    const selectArea = (areaName) => {\n        const id = areaName.split(\" \").join(\"_\");\n        history.push(`/area/${id}`);\n    }\n    \n    return (<Layout>\n        <Sider\n            breakpoint=\"lg\"\n            collapsedWidth=\"0\"\n            onBreakpoint={broken => {\n                console.log(broken)\n            }}\n            onCollapse={(collapsed, type) => {\n                console.log(collapsed, type);\n            }}\n        >\n            <Menu\n                mode=\"inline\"\n                defaultSelectedKeys={['1']}\n                defaultOpenKeys={['sub1']}\n                style={{ height: '100%', width: '200px', borderRight: 0 }}\n            >\n                <SubMenu key=\"sub1\" icon={<HomeOutlined />} title=\"Select Area\">\n                    {areaList.map(nme => (<Menu.Item onClick={() => selectArea(nme)} key={nme.split(' ').join('_')}>{nme}</Menu.Item>))}\n                </SubMenu>\n            </Menu>\n        </Sider>\n        <Layout style={{ padding: '0 24px 24px' }}>\n            <Route path=\"/area/:id\" render={(props) => (<AreaInfo {...props} areas={areas} />)} />\n            <Route path=\"/area\" exact render={(props) => (<AreaAll {...props} areas={areas} />)} />\n        </Layout>\n    </Layout>)\n}\n\nexport default AreaData; ","import React from 'react'\nimport { Chart, Interval, Tooltip } from 'bizcharts';\n\nconst BarChart = (props) => {\n    const { data, temperature } = props;\n\n    const position = `name*${temperature ? 'temp_avg' : 'wrlss_avg'}`;\n\n    return (<Chart height={750} autoFit data={data}  interactions={['active-region']} padding=\"auto\" >\n        <Interval position={position} />\n        <Tooltip shared />\n    </Chart>)\n}\n\nexport default BarChart; ","import React from 'react'\nimport { Table } from \"antd\";\nimport moment from \"moment\"; \n\nconst columns = [\n    {\n        title: 'Name',\n        dataIndex: 'device_display_name',\n        key: 'device_display_name',\n    },\n    // {\n    //     title: 'Type',\n    //     dataIndex: 'device_type',\n    //     key: 'device_type',\n    // },\n    {\n        title: 'Temprature',\n        dataIndex: 'reading',\n        key: 'reading',\n    },\n    {\n        title: 'Time',\n        dataIndex: 'time',\n        key: 'time',\n        render: (time) => moment(time).format('MMMM Do YYYY, h:mm:ss a')\n    }\n];\n\nconst CustomTable = (props) => {\n    return <Table dataSource={props.data} columns={columns} />\n}\n\n\nexport default CustomTable; ","import React, { useState } from 'react'\nimport { Layout, Menu } from 'antd';\nimport { HomeOutlined } from \"@ant-design/icons\";\nimport BarChart from \"../BarChart\";\nimport Table from \"../Table\";\nimport \"./style.css\";\n\nconst { SubMenu } = Menu;\nconst { Content, Sider } = Layout;\n\nconst LiveData = (props) => {\n    const [showTemperature, setShowTemperature] = useState(true);\n    const { data: { temperature, wireless, areas } } = props;\n    return (<Layout>\n        <Sider\n            breakpoint=\"lg\"\n            collapsedWidth=\"0\"\n            onBreakpoint={broken => {\n                console.log(broken)\n            }}\n            onCollapse={(collapsed, type) => {\n                console.log(collapsed, type);\n            }}\n        >\n            <Menu\n                mode=\"inline\"\n                defaultSelectedKeys={['1']}\n                defaultOpenKeys={['sub1']}\n                style={{ height: '100%', borderRight: 0 }}\n            >\n                <SubMenu key=\"sub1\" icon={<HomeOutlined />} title=\"Device Type\">\n                    <Menu.Item onClick={() => setShowTemperature(true)} key=\"1\">Temperature</Menu.Item>\n                    <Menu.Item onClick={() => setShowTemperature(false)} key=\"2\">Wireless</Menu.Item>\n                </SubMenu>\n            </Menu>\n        </Sider>\n        <Layout style={{ padding: '0 24px 24px' }}>\n            <Content style={{ margin: '24px 16px 0' }}>\n                <div className=\"live-data\">\n                    <div className=\"bar-chart\">\n                        <BarChart temperature={showTemperature} data={areas} />\n                    </div>\n                    <div className=\"data-table\">\n                        <Table data={showTemperature ? temperature : wireless} />\n                    </div>\n                </div>\n            </Content>\n        </Layout>\n    </Layout>)\n}\n\nexport default LiveData; ","import dataset from \"../dataset.json\";\nimport { slice, get } from \"lodash\";\n\nclass DataClient {\n    constructor() {\n        this.sampleSize = 100; \n        this.sampleNo = 1; \n    }\n\n    getData() {\n        const startAt = (this.sampleNo - 1) * this.sampleSize;\n        const endAt = startAt + this.sampleSize;\n        this.sampleNo += 1; \n        return slice(get(dataset, 'data', []), startAt, endAt).map((elem) => ({ ...elem, id: elem.device_display_name.split(' ').join('_') }));;\n    };\n}\n\n\nexport default new DataClient(); ","import dataClient from \"./data\";\nimport moment from \"moment\"; \nimport { uniqBy, map, union, isEqual } from \"lodash\";\n\nexport const initialState = {\n    temperature: [],\n    wireless: [],  \n    areas: [],\n    areaList: [],\n}\n\nconst sorter = (a, b) => {\n    if (a.device_display_name < b.device_display_name) {\n        return -1; \n    } \n    if (a.device_display_name > b.device_display_name) {\n        return 1; \n    }\n    return 0; \n}\n\nexport const reducer = (state, action) => {\n    if (action.type === \"NEXT_POLL\") {\n        const dataset = dataClient.getData(); \n        const areas = map(uniqBy(dataset, 'device_display_name'), 'device_display_name');\n        const wireless = dataset.filter(data => data.device_type === \"Wireless\");\n        const temperature = dataset.filter(data => data.device_type === \"Temperature\");\n        \n        const currentAreas = [...state.areas]\n        \n        areas.forEach(area => {\n            const areaTempData = temperature.filter(tmp => tmp.device_display_name === area);\n            const areaWrlssData = wireless.filter(wrl => wrl.device_display_name === area);\n            if (!areaTempData.length) {\n                return; \n            }\n            const totalTemp = areaTempData.reduce((ac, cv) => ac + cv.reading, 0);\n            const avgTemp = totalTemp/areaTempData.length; \n\n            const totalWrlss = areaWrlssData.reduce((ac, cv) => ac + cv.reading, 0);\n            const avgWrlss = totalWrlss/areaWrlssData.length; \n\n            // later filter out by last 1 hour data only\n            const areaData = currentAreas.find(areadata => areadata.name === area);\n            if (areaData) {\n                areaData.temp_avg = avgTemp; // later calculate agains existing\n                areaData.wrlss_avg = avgWrlss; // later calculate agains existing\n                areaData.temp_data = areaData.temp_data.concat(areaTempData.map(atd => ({ reading: atd.reading, time: moment(atd.time).format('MMMM Do YYYY, h:mm:ss a'), type: \"Temperature\" })))\n                areaData.wrlss_data = areaData.wrlss_data.concat(areaWrlssData.map(awd => ({ reading: awd.reading, time: moment(awd.time).format('MMMM Do YYYY, h:mm:ss a'), type: \"Wireless\" })))\n            } else {\n                currentAreas.push({\n                    name: area, \n                    temp_avg: avgTemp, \n                    temp_data: areaTempData.map(atd => ({ reading: atd.reading, time: moment(atd.time).format('MMMM Do YYYY, h:mm:ss a'), type: \"Temperature\" })), // last 1 hour only\n                    wrlss_data: areaWrlssData.map(awd => ({ reading: awd.reading, time: moment(awd.time).format('MMMM Do YYYY, h:mm:ss a'), type: \"Wireless\" })),\n                })\n            }\n        });\n\n        const updatedAreaList = union(state.areaList, areas);\n        return {\n            ...state, \n            wireless: wireless, //.sort(sorter), \n            temperature: temperature, //.sort(sorter),\n            ...(!isEqual(state.areaList, updatedAreaList) && { areaList: updatedAreaList.sort() }),\n            areas: currentAreas, \n        };\n    } \n\n    return state; \n}\n\n","import React, { useReducer, useEffect } from 'react'\nimport AreaData from \"../AreaData\";\nimport LiveData from \"../LiveData\";\nimport { Layout, Menu } from 'antd';\nimport { DashboardOutlined, BarChartOutlined } from \"@ant-design/icons\";\nimport { reducer, initialState } from \"../../services/reducer\";\nimport { Route, Link, Redirect } from \"react-router-dom\";\nimport \"./styles.css\";\n\nconst { Header } = Layout;\n\nconst Dashboard = (props) => {\n    const [state, dispatch] = useReducer(reducer, initialState);\n    useEffect(() => {\n        dispatch({ type: \"NEXT_POLL\" });\n        const interval = setInterval(() => {\n            dispatch({ type: \"NEXT_POLL\" })\n        }, 2000);\n        return () => {\n            clearInterval(interval);\n        }\n    }, [dispatch])\n\n    const { temperature, wireless, areas, areaList } = state;\n\n    return (<Layout style={{height:\"100vh\"}}>\n        <Header className=\"header\">\n            <div className=\"logo\" />\n            <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['1']}>\n                <Menu.Item onClick={() => console.log(\"Area DAta\")} key=\"1\" icon={<DashboardOutlined />}>\n                    <Link to=\"/area\">Area Data</Link>\n                </Menu.Item>\n                <Menu.Item onClick={() => console.log(\"Live Data\")} key=\"2\" icon={<BarChartOutlined />}>\n                    <Link to=\"/live\">Live Data</Link>\n                </Menu.Item>\n            </Menu>\n        </Header>\n\n        <Route path=\"/\" exact render={(props) => <Redirect to=\"/area\" {...props} />}/>\n        <Route path=\"/live\" render={(props) => <LiveData {...props} data={{ temperature, wireless, areas }} />} />\n        <Route path=\"/area\" component={(props) => <AreaData {...props} data={{ areas, areaList }} />} />\n            {/* <Footer style={{ textAlign: 'center' }}></Footer> */}\n    </Layout>)\n}\n\nexport default Dashboard;","import './App.css';\nimport 'antd/dist/antd.css';\nimport Dashboard from \"./components/Dashboard\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Dashboard />\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}